(window.webpackJsonp=window.webpackJsonp||[]).push([[13,8],{583:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{}},beforeMount:function(){void 0===this.$session.get("vg-bta")&&(this.$router.push("./"),console.log("login failed"))}},r=n(43),component=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.default=component.exports},611:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"customMsg":"Please Choose Area"},"zh":{"customMsg":"请选择区域"},"vi":{"customMsg":"Vui Lòng Chọn Khu Vực"},"id":{"customMsg":"Silahkan Pilih Daerah"}}'),delete t.options._Ctor}},687:function(t,e,n){"use strict";var o=n(611),r=n.n(o);e.default=r.a},729:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Vehicle dispatch information":"Vehicle dispatch information","Cellphone":"Cellphone","Extension no.":"Extension no.","Department Manager":"Department Manager","Division Manager":"Division Manager","Vice Chairman":"Vice Chairman","Board Chairman":"Board Chairman","Human Resources (HR)":"Human Resources (HR)","Reason - VI":"Reason - VI","Reason - EN":"Reason - EN","Reason - CN":"Reason - CN","Action":"Action","Multiple day trip":"Multiple day trip","Deputies":"Deputies","Empno":"Empno","Extra note for Driver / GA":"Extra note for Driver / GA","End Date - transport":"End Date - transport","Start Date - transport":"Start Date - transport","Destination - transport":"Destination - transport","End Date (MM/DD/YY)":"End Date (MM/DD/YY)","Start Date (MM/DD/YY)":"Start Date (MM/DD/YY)","Destination business trip":"Destination business trip","Group Domestic":"Group Domestic","Edit form":"Edit form","Are you sure you want to delete this item?":"Are you sure you want to delete this item?","Are you sure you want to resubmit the request?":"Are you sure you want to resubmit the request?","Re-Submit":"Re-Submit","Company vehicle":"Company vehicle","Domestic":"Domestic","Foreign":"Foreign","Location":"Location","Business trip the day":"Business trip the day","Start Date business trip":"Start Date business trip","Hour":"Hour","Min":"Min","End Date business trip":"End Date business trip","Notes":"Notes","Find and Select People":"Find and Select People","Add to business trip":"Add to business trip","Employee":"Employee","Name":"Name","Department":"Department","Submit":"Submit"},"vi":{"Vehicle dispatch information":"Thông tin điều xe","Cellphone":"Số điện thoại","Extension no.":"Số nội bộ","Department Manager":"Chủ quản bộ phận","Division Manager":"Chủ quản cấp sở","Vice Chairman":"Phó Tổng","Board Chairman":"Tổng Giám Đốc","Human Resources (HR)":"Tài nguyên nhân lực (HR)","Reason - VI":"Lý do - lý do tiếng Việt","Reason - EN":"Lý do - lý do tiếng Anh","Reason - CN":"Lý do - lý do tiếng Trung","Action":"Hành động","Multiple day trip":"Đi nhiều ngày","Deputies":"Người thay thế","Empno":"MST","Extra note for Driver / GA":"Ghi chú cho tài xế / GA","End Date - transport":"Ngày kết thúc - Điều xe","Start Date - transport":"Ngày bắt đầu - Điều xe","Destination - transport":"Điểm đến - Điều xe","End Date (MM/DD/YY)":"Ngày kết thúc (MM/DD/YY)","Start Date (MM/DD/YY)":"Ngày bắt đầu (MM/DD/YY)","Destination business trip":"Địa điểm công tác","Group Domestic":"Tập đoàn trong nước","Edit form":"Chỉnh sửa biểu mẫu","Are you sure you want to delete this item?":"Bạn có chắc chắn muốn xóa mục này?","Are you sure you want to resubmit the request?":"Bạn có chắc chắn muốn gửi lại yêu cầu?","Re-Submit":"Gửi lại","Company vehicle":"Xe công ty","Domestic":"Trong nước","Foreign":"Nước ngoài","Location":"Địa điểm công tác","Business trip the day":"Công tác trong ngày","Start Date business trip":"Ngày đi công tác","Hour":"Giờ","Min":"Phút","End Date business trip":"Ngày về công tác","Notes":"Ghi chú","Find and Select People":"Tìm và chọn người","Add to business trip":"Thêm vào chuyến công tác","Employee":"Nhân viên","Name":"Tên","Department":"Bộ phận","Submit":"Gửi"},"cn":{"Vehicle dispatch information":"车辆调度信息","Cellphone":"手机号码","Extension no.":"分机号","Department Manager":"部门经理","Division Manager":"部门经理","Vice Chairman":"副董事长","Board Chairman":"董事长","Human Resources (HR)":"人力资源 (HR)","Reason - VI":"原因 - VI","Reason - EN":"原因 - EN","Reason - CN":"原因 - CN","Action":"行动","Multiple day trip":"多天旅行","Deputies":"代理人","Empno":"员工编号","Extra note for Driver / GA":"司机/ GA的额外说明","End Date - transport":"结束日期 - 交通","Start Date - transport":"开始日期 - 交通","Destination - transport":"目的地 - 交通","End Date (MM/DD/YY)":"结束日期 (MM/DD/YY)","Start Date (MM/DD/YY)":"开始日期 (MM/DD/YY)","Destination business trip":"出差目的地","Group Domestic":"国内集团","Edit form":"编辑表单","Are you sure you want to delete this item?":"您确定要删除此项吗？","Are you sure you want to resubmit the request?":"您确定要重新提交请求吗？","Re-Submit":"重新提交","Company vehicle":"公司车辆","Domestic":"国内","Foreign":"国外","Location":"工作地点","Business trip the day":"当天出差","Destination":"目的地","Address":"地址","Start Date":"出发日期","Hour":"小時","Min":"分鐘","End Date":"返回日期","Notes":"备注","Find and Select People":"查找和选择人员","Add to business trip":"添加到商务旅行","Employee":"员工","Name":"名字","Department":"部门","Submit":"提交"}}'),delete t.options._Ctor}},750:function(t,e,n){"use strict";var o=n(22),r=(n(39),n(52),n(84),{props:{appCode:{type:String,required:!0},customDept:{type:String,default:""},customDivision:{type:String,default:""}},data:function(){return{appFlow:[]}},mounted:function(){this.getFlow()},computed:{},methods:{getFlow:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={empno:t.$session.get(t.appCode).empno,app_code:t.appCode,location:t.$session.get(t.appCode).location,custom_data:JSON.stringify({custom_dept:t.customDept,custom_division:t.customDivision})},e.next=3,t.$axios.post("http://gmo021.cansportsvg.com/api/vfa/getFlowUpdated",n).then((function(e){t.appFlow=e.data.flow_data,t.$emit("sendAppFlow",t.appFlow)})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})))()},getFlowParam:function(t,e,n){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l={empno:t,app_code:r.appCode,location:r.$session.get(r.appCode).location,custom_data:JSON.stringify({custom_dept:e,custom_division:n})},o.next=3,r.$axios.post("http://gmo021.cansportsvg.com/api/vfa/getFlowUpdated",l).then((function(t){r.appFlow=t.data.flow_data,r.$emit("sendAppFlowChange",r.appFlow)})).catch((function(t){console.log(t)}));case 3:case"end":return o.stop()}}),o)})))()},getFlowParamBta:function(t,e,n){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l={empno:t,app_code:r.appCode,location:r.$session.get(r.appCode).location,custom_data:JSON.stringify({custom_dept:e,custom_division:n})},o.next=3,r.$axios.post("http://gmo021.cansportsvg.com/api/vfa/getFlowUpdated",l).then((function(t){r.appFlow=t.data.flow_data,r.$emit("sendAppFlowForeachItemBta",r.appFlow)})).catch((function(t){console.log(t)}));case 3:case"end":return o.stop()}}),o)})))()},getCustomFlow:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r={empno:n.$session.get(n.appCode).empno,app_code:n.appCode,location:n.$session.get(n.appCode).location,custom_data:JSON.stringify({custom_dept:t,custom_division:e})},o.next=3,n.$axios.post("http://gmo021.cansportsvg.com/api/vfa/getFlowUpdated",r).then((function(t){n.appFlow=t.data.flow_data,n.$emit("sendAppFloww",n.appFlow)})).catch((function(t){console.log(t)}));case 3:case"end":return o.stop()}}),o)})))()},customName:function(t){return t.lvl_code.includes("custom")&&t.managers.length<1?"Please Choose Area...":t.lvl_name[this.$i18n.locale]},getCustomFlow2:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r={empno:n.$session.get(n.appCode).empno,app_code:n.appCode,location:n.$session.get(n.appCode).location,custom_data:JSON.stringify({custom_dept:t,custom_division:e})},o.next=3,n.$axios.post("http://gmo021.cansportsvg.com/api/vfa/getFlowUpdated",r).then((function(t){n.appFlow=t.data.flow_data,n.$emit("sendAppFlow2",n.appFlow)})).catch((function(t){console.log(t)}));case 3:case"end":return o.stop()}}),o)})))()}}}),l=n(43),c=n(687),d=n(73),m=n.n(d),h=n(241),v=n(138),_=n(554),f=n(639),D=n(575),x=n(640),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"elevation-3"},[n("v-card-text",[n("v-stepper",{attrs:{flat:""}},[n("v-stepper-header",[t._l(t.appFlow,(function(e,o){return[n("v-stepper-step",{staticClass:"font-weight-regular",attrs:{color:"red",complete:""}},[t._v("\n                        "+t._s(t.customName(e))+" "),n("br"),t._v("\n                        "+t._s(e.managers.map((function(t){return t.name})).join(", "))+"\n                    ")]),t._v(" "),o<t.appFlow.length-1?n("v-divider"):t._e()]}))],2)],1)],1)],1)}),[],!1,null,null,null);"function"==typeof c.default&&Object(c.default)(component);e.a=component.exports;m()(component,{VCard:h.a,VCardText:v.b,VDivider:_.a,VStepper:f.a,VStepperHeader:D.a,VStepperStep:x.a})},847:function(t,e,n){"use strict";var o=n(729),r=n.n(o);e.default=r.a},952:function(t,e,n){"use strict";n.r(e);n(9),n(8),n(16),n(12),n(17);var o=n(2),r=n(22),l=(n(84),n(23),n(65),n(42),n(91),n(4),n(39),n(52),n(63),n(30),n(75),n(66),n(14),n(29),n(208),n(253)),c=n.n(l),d=n(583);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={components:{VfaAppFlow:n(750).a,auth:d.default},props:{dialogDataDetail:Object,hrForeignArr:Array},data:function(){return{crrDay:c()().format("YYYY-MM-DD"),newReason:{vi:null,en:null,cn:null},newDestinationBta:{vi:null,en:null,cn:null,address:null},empNoForChecking:null,employeeArr:[],employeeArrDeputies:[],searchTimeoutId:null,api:"http://gmo021.cansportsvg.com/api/vg-bta/",apiTransport:"http://gmo021.cansportsvg.com/api/vg-transport/",empApi:"http://gmo021.cansportsvg.com/api/emp/",msgApi:"http://gmo021.cansportsvg.com/api/msg-center/sendOutMsg",checkLocation:this.dialogDataDetail.location?this.dialogDataDetail.location:"domestic",is_multiple_date:!!this.dialogDataDetail.is_multiple_date,is_company_car:!!this.dialogDataDetail.is_company_car,has_foreigner:!1,dialogCreateNewDestinationBta:!1,reasonSelected:{vi:this.dialogDataDetail.reason?this.dialogDataDetail.reason.vi:null,en:this.dialogDataDetail.reason?this.dialogDataDetail.reason.en:null,cn:this.dialogDataDetail.reason?this.dialogDataDetail.reason.cn:null},reasonData:[],reasonDataByDept:[],destination:this.dialogDataDetail.destination?this.dialogDataDetail.destination:null,listDestination_bta:[],is_multiple_route:!!this.dialogDataDetail.is_multiple_route,cellPhone:this.dialogDataDetail.cellphone?this.dialogDataDetail.cellphone:null,extension_no:this.dialogDataDetail.extension_no?this.dialogDataDetail.extension_no:null,destination_transport:this.dialogDataDetail.destination_transport_name?this.dialogDataDetail.destination_transport_name[this.$i18n.locale]:null,listDestination_transport:[],startTime:{date:this.dialogDataDetail.start_date?this.dialogDataDetail.start_date:null,hour:this.dialogDataDetail.start_time?this.dialogDataDetail.start_time.split(":")[0]:null,min:this.dialogDataDetail.start_time?this.dialogDataDetail.start_time.split(":")[1]:null},endTime:{date:this.dialogDataDetail.end_date?this.dialogDataDetail.end_date:null,hour:this.dialogDataDetail.end_time?this.dialogDataDetail.end_time.split(":")[0]:null,min:this.dialogDataDetail.end_time?this.dialogDataDetail.end_time.split(":")[1]:null},startTime_transport:{date:this.dialogDataDetail.start_date_transport?this.dialogDataDetail.start_date_transport:null,hour:this.dialogDataDetail.start_time_transport?this.dialogDataDetail.start_time_transport.split(":")[0]:null,min:this.dialogDataDetail.start_time_transport?this.dialogDataDetail.start_time_transport.split(":")[1]:null},endTime_transport:{date:this.dialogDataDetail.end_date_transport?this.dialogDataDetail.end_date_transport:null,hour:this.dialogDataDetail.end_time_transport?this.dialogDataDetail.end_time_transport.split(":")[0]:null,min:this.dialogDataDetail.end_time_transport?this.dialogDataDetail.end_time_transport.split(":")[1]:null},time:"",menuStartTime:!1,menuEndTime:!1,notes_transport:this.dialogDataDetail.notes_transport?this.dialogDataDetail.notes_transport:null,activeUser:{},employee_list:this.dialogDataDetail.employee_list?this.dialogDataDetail.employee_list:[],dataAppFlow:[],dataAppFlowChanged:[],desDlg:!1,itemHours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],itemMins:["00","05","10","15","20","25","30","35","40","45","50","55"],searchTimeoutIdQQ:null,listDataLvl1:[],listDeptManagerLvl1:[],desData:[],dataEmpnoForeignContains:[]}},methods:{checkDate:function(){if(this.startTime.date){var t=this.startTime.date.split("-");3===t.length&&t[0].length>4&&(t[0]=t[0].slice(0,4),this.startTime.date=t.join("-"))}if(this.endTime.date){var e=this.endTime.date.split("-");3===e.length&&e[0].length>4&&(e[0]=e[0].slice(0,4),this.endTime.date=e.join("-"))}this.startTime.date&&this.endTime.date&&(this.startTime.date>this.endTime.date?(alert("Ngày kết thúc không thể nhỏ hơn ngày bắt đầu"),this.startTime.date=null,this.endTime.date=null):this.startTime.date===this.endTime.date?this.is_multiple_date=!1:this.is_multiple_date=!0)},checkTime:function(){this.startTime.date&&this.endTime.date&&this.startTime.date===this.endTime.date&&this.startTime.hour&&this.endTime.hour&&(this.startTime.hour>this.endTime.hour&&(alert("Giờ kết thúc không thể nhỏ hơn giờ bắt đầu"),this.startTime.hour=null,this.endTime.hour=null),this.startTime.hour===this.endTime.hour&&this.startTime.min&&this.endTime.min&&this.startTime.min>this.endTime.min&&(alert("Phút kết thúc không thể nhỏ hơn phút bắt đầu"),this.startTime.min=null,this.endTime.min=null))},checkDate_transport:function(){this.startTime_transport.date&&this.endTime_transport.date&&this.startTime_transport.date>this.endTime_transport.date&&(alert("Ngày kết thúc không thể nhỏ hơn ngày bắt đầu"),this.startTime_transport.date=null,this.endTime_transport.date=null)},checkTime_transport:function(){this.startTime_transport.date&&this.endTime_transport.date&&this.startTime_transport.date===this.endTime_transport.date&&this.startTime_transport.hour&&this.endTime_transport.hour&&(this.startTime_transport.hour>this.endTime_transport.hour&&(alert("Giờ kết thúc không thể nhỏ hơn giờ bắt đầu"),this.startTime_transport.hour=null,this.endTime_transport.hour=null),this.startTime_transport.hour===this.endTime_transport.hour&&this.startTime_transport.min&&this.endTime_transport.min&&this.startTime_transport.min>this.endTime_transport.min&&(alert("Phút kết thúc không thể nhỏ hơn phút bắt đầu"),this.startTime_transport.min=null,this.endTime_transport.min=null))},locale:function(t){this.$i18n.setLocale(t),$nuxt.$emit("change-locale",t),this.$vuetify.lang.current=t},handleDataChanges:function(){var t=this,e="",n=this.employee_list.every((function(e){return t.dataEmpnoForeignContains.some((function(t){return e.empno.includes(t)}))})),o=this.employee_list.some((function(e){return t.dataEmpnoForeignContains.some((function(t){return e.empno.includes(t)}))}))&&this.employee_list.some((function(e){return!t.dataEmpnoForeignContains.some((function(t){return e.empno.includes(t)}))}));e=n?"all foreigner":o?"both":"all domestic","domestic"===this.checkLocation&&!1===this.is_multiple_date&&"all domestic"===e&&(this.dataAppFlowChanged=[this.dataAppFlow[0],this.dataAppFlow[1],this.dataAppFlow[4]]),"domestic"===this.checkLocation&&!0===this.is_multiple_date&&"all domestic"===e&&(this.dataAppFlowChanged=[this.dataAppFlow[0],this.dataAppFlow[1],this.dataAppFlow[2],this.dataAppFlow[4]]),"group"!==this.checkLocation&&"domestic"!==this.checkLocation||"all foreigner"!==e&&"both"!==e||(this.dataAppFlowChanged=[this.dataAppFlow[0],this.dataAppFlow[1],this.dataAppFlow[2],this.dataAppFlow[4]]),"foreign"===this.checkLocation&&(this.dataAppFlowChanged=this.dataAppFlow)},closeDialogEdit:function(){this.$emit("closeDialogEdit")},getEmpnoForeignData:function(){var t=this;this.$axios.post(this.api+"getEmpnoForeignData").then((function(e){Array.isArray(e.data)&&e.data.length>0?t.dataEmpnoForeignContains=e.data.map((function(t){return t.empno_contains})):console.log("Không có dữ liệu hợp lệ trả về từ server")})).catch((function(t){console.error("Lỗi khi gửi request:",t)}))},saveNewReason:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={reason_vi:t.newReason.vi,reason_en:t.newReason.en,reason_cn:t.newReason.cn,from_dept:t.activeUser.dept},e.prev=1,e.next=4,t.$axios.post(t.api+"saveNewReason",n);case 4:if("done"!==e.sent.data){e.next=8;break}return e.next=8,t.getReasonByDept();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error occurred while saving new reason:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},saveNewDestinationBta:function(){var t=this,e={name:JSON.stringify({vi:this.newDestinationBta.vi,en:this.newDestinationBta.en,cn:this.newDestinationBta.cn}),address:this.newDestinationBta.address,created_by:this.activeUser.empno};this.$axios.post(this.api+"saveNewDestinationBta",e).then((function(e){"done"===e.data&&(t.getBtaDestinationData(),t.dialogCreateNewDestinationBta=!1)}))},handleAppFlow:function(t){var e;this.dataAppFlow=t.map((function(t,e){return{level:"level"+(e+1),managers:t.managers.map((function(t){return{email:t.email,empno:t.empno,name:t.name,dept:t.dept_code}}))}})),this.listDeptManagerLvl1=(null===(e=this.dataAppFlow.find((function(t){return"level1"===t.level})))||void 0===e?void 0:e.managers.map((function(t){return t.email})))||[],this.dataAppFlowChanged=this.dataAppFlow},getListDataLvl1:function(){var t=this;setTimeout((function(){return t.listDataLvl1=t.dataAppFlow[0].managers.map((function(t){return{email:t.email,empno:t.empno,name:t.name,dept:t.dept}}))}),1e3)},helpTransCLick:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("ve"!=t){n.next=8;break}if(!e.reasonSelected.en&&!e.reasonSelected.cn){n.next=8;break}return"secret-v",(o=new FormData).append("type","secret-v"),e.reasonSelected.en?o.append("string",e.reasonSelected.en):o.append("string",e.reasonSelected.cn),n.next=8,e.$axios.post("http://gmo021.cansportsvg.com/public/gg-trans/curl.php",o).then((function(t){200==t.status&&e.$set(e.reasonSelected,"vi",t.data)})).catch((function(t){console.log("Err",t),e.showMsg(e.$t("error"),t)}));case 8:if("en"!=t){n.next=16;break}if(!e.reasonSelected.vi&&!e.reasonSelected.cn){n.next=16;break}return"secret-e",(r=new FormData).append("type","secret-e"),e.reasonSelected.vi?r.append("string",e.reasonSelected.vi):r.append("string",e.reasonSelected.cn),n.next=16,e.$axios.post("http://gmo021.cansportsvg.com/public/gg-trans/curl.php",r).then((function(t){200==t.status&&e.$set(e.reasonSelected,"en",t.data)})).catch((function(t){console.log("Err",t),e.showMsg(e.$t("error"),t)}));case 16:if("cn"!=t){n.next=24;break}if(!e.reasonSelected.vi&&!e.reasonSelected.en){n.next=24;break}return"secret-c",(l=new FormData).append("type","secret-c"),e.reasonSelected.vi?l.append("string",e.reasonSelected.vi):l.append("string",e.reasonSelected.en),n.next=24,e.$axios.post("http://gmo021.cansportsvg.com/public/gg-trans/curl.php",l).then((function(t){200==t.status&&e.$set(e.reasonSelected,"cn",t.data)})).catch((function(t){console.log("Err",t),e.showMsg(e.$t("error"),t)}));case 24:case"end":return n.stop()}}),n)})))()},reasonComboboxChange:function(t){var e=this;if("reason_vi"==t)if(this.reasonSelected.vi){var n=this.reasonData.filter((function(t){return t.reason_vi==e.reasonSelected.vi}));n.length>0&&(this.reasonSelected.en=n[0].reason_en,this.reasonSelected.cn=n[0].reason_cn)}else this.reasonSelected.en="",this.reasonSelected.cn="";else if("reason_en"==t)if(this.reasonSelected.en){var o=this.reasonData.filter((function(t){return t.reason_en==e.reasonSelected.en}));o.length>0&&(this.reasonSelected.vi=o[0].reason_vi,this.reasonSelected.cn=o[0].reason_cn)}else this.reasonSelected.vi="",this.reasonSelected.cn="";else if(this.reasonSelected.cn){var r=this.reasonData.filter((function(t){return t.reason_cn==e.reasonSelected.cn}));r.length>0&&(this.reasonSelected.vi=r[0].reason_vi,this.reasonSelected.en=r[0].reason_en)}else this.reasonSelected.vi="",this.reasonSelected.en=""},addToTheList:function(){var t=this;if(this.empNoForChecking){var e=this.employee_list.some((function(e){return e.empno===t.empNoForChecking.empno})),n=this.employee_list.some((function(e){return e.deputies&&e.deputies.empno===t.empNoForChecking.empno}));if(e||n)alert("Người này đã có trong danh sách rồi!");else{var o={dept:this.empNoForChecking.dept,name:this.empNoForChecking.name,empno:this.empNoForChecking.empno,sex:this.empNoForChecking.sex,deputies:"",searchArr:[]};this.employee_list.push(o),this.empNoForChecking=[]}}else console.log("Không tìm thấy nhân viên được chọn")},debounceSearchDeputiesQQ:function(t,e){var n=this;return e.deputies.empnoName===t?1:t?(clearTimeout(this.searchTimeoutIdQQ),void(this.searchTimeoutIdQQ=setTimeout(Object(r.a)(regeneratorRuntime.mark((function o(){var r,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.$axios.$post(n.empApi+"getEmployee",{chunk:t});case 3:r=o.sent,l=r.filter((function(t){return t.empno!==e.empno&&!n.employee_list.some((function(e){return e.empno===t.empno}))})),e.searchArr=l.map((function(t){return t.empnoName="".concat(t.empno," ").concat(t.name),t})),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.log("getEmployee",o.t0);case 11:case"end":return o.stop()}}),o,null,[[0,8]])}))),200))):1},debounceSearch:function(t){var e=this;clearTimeout(this.searchTimeoutId),this.searchTimeoutId=setTimeout((function(){return e.getEmployee(t)}),200)},getEmployee_:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=2;break}return n.abrupt("return",1);case 2:return o=e.searchDeptList,n.prev=3,n.next=6,e.$axios.$post(e.empApi+"getEmployee",{chunk:t});case 6:r=n.sent,e.employeeArr=r.filter((function(t){return o.includes(t.dept)})).map((function(t){return t.empnoName="".concat(t.empno," ").concat(t.name," - ").concat(t.dept),t})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log("getEmployee",n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()},getEmployee:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=2;break}return n.abrupt("return",1);case 2:return n.prev=2,n.next=5,e.$axios.$post(e.empApi+"getEmployee",{chunk:t});case 5:o=n.sent,e.employeeArr=o.map((function(t){return t.empnoName="".concat(t.empno," ").concat(t.name),t})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log("getEmployee",n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},saveDataRequestAgain:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,i,r,l,c,d,m,h,v,_,link,f,D,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=null,o=null,i=0;i<t.listDestination_bta.length;i++)r=t.listDestination_bta[i].name,o=t.destination===r.vi||t.destination===r.en||t.destination===r.cn?null:t.destination;for(l=0;l<t.reasonData.length;l++)t.reasonSelected.vi===t.reasonData[l].reason_vi||t.reasonSelected.en===t.reasonData[l].reason_en||t.reasonSelected.cn===t.reasonData[l].reason_cn?n=null:(null===n&&(n={}),n.vi=t.reasonSelected.vi,n.en=t.reasonSelected.en,n.cn=t.reasonSelected.cn);if(t.$refs.inputForm.validate()){e.next=6;break}return e.abrupt("return");case 6:if(confirm(t.$t("Are you sure you want to resubmit the request?"))){e.next=8;break}return e.abrupt("return");case 8:return c=t.dataEmpnoForeignContains,d="",m=t.employee_list.some((function(t){return c.some((function(e){return t.empno.includes(e)}))})),h=t.employee_list.every((function(e){return t.dataEmpnoForeignContains.some((function(t){return e.empno.includes(t)}))})),v=t.employee_list.some((function(e){return t.dataEmpnoForeignContains.some((function(t){return e.empno.includes(t)}))}))&&t.employee_list.some((function(e){return!t.dataEmpnoForeignContains.some((function(t){return e.empno.includes(t)}))})),d=h?"all foreigner":v?"both":"all domestic",_={oldId:t.dialogDataDetail.id,submitter:JSON.stringify({empno:t.activeUser.empno,name:t.activeUser.name,dept:t.activeUser.dept,high_dept:t.activeUser.hight_dept,email:t.activeUser.email}),location:t.checkLocation,is_multiple_date:t.is_multiple_date,has_foreigner:m,reason:JSON.stringify(t.reasonSelected),destination:t.destination.curLang?t.destination.curLang:t.destination,cellphone:t.cellPhone,extension_no:t.extension_no,start_date:t.startTime.date,start_time:t.startTime.hour+":"+t.startTime.min,end_date:t.endTime.date,end_time:t.endTime.hour+":"+t.endTime.min,type_employee:d,employee_list:JSON.stringify(t.employee_list),is_company_car:t.is_company_car,destination_transport:t.destination_transport&&t.destination_transport.id?t.destination_transport.id:t.dialogDataDetail.destination_transport?t.dialogDataDetail.destination_transport:null,start_date_transport:t.is_company_car?t.startTime_transport.date:null,start_time_transport:t.is_company_car?t.startTime_transport.hour+":"+t.startTime_transport.min:null,end_date_transport:t.is_company_car?t.endTime_transport.date:null,end_time_transport:t.is_company_car?t.endTime_transport.hour+":"+t.endTime_transport.min:null,notes_transport:t.is_company_car?t.notes_transport:null,newReason:n,newDestination:o},link="http://gmo021.cansportsvg.com/vg/hr/bta",f=t.activeUser.location.toLocaleUpperCase()+"-EXPAT-"+t.activeUser.dept,D=t.dialogDataDetail.dept_manager?t.dialogDataDetail.dept_manager.who.email:null,x="Dear Manager, <br>\n      The business trip application you previously approved has been edited, <br>\n      Editor: ".concat(t.activeUser.empno," - ").concat(t.activeUser.name," , department:").concat(t.activeUser.dept," <br>\n      Please visit the link to check and approve the above request. <br>\n      Link: ").concat(link,"  <br> \n      Thanks! <br><br>\n      \n      尊敬的經理 <br>\n      您先前批准的出差申請已被編輯， <br>\n      編輯者：").concat(t.activeUser.empno," - ").concat(t.activeUser.name,"，部門：").concat(t.activeUser.dept," <br>\n      請訪問鏈接以檢查並批准上述請求。\n      鏈接：").concat(link,"  <br> \n      謝謝！ \n      "),e.prev=19,e.next=22,t.$axios.post(t.api+"saveDataRequestAgain",_);case 22:"done"===e.sent.data&&(D&&t.sendMsg(f,D,x),alert("Successfully!!! \n Thành công!!! \n 成功!!!"),t.closeDialogEdit()),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),alert("saveDataRequestAgain:"+e.t0);case 29:case"end":return e.stop()}}),e,null,[[19,26]])})))()},sendMsg:function(t,e,body){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=Object(o.a)({target:t,body:body,msg_type:"m",msg_method:"both",msg_subject:"Business Trip Approval Application",mail_template:"msgCenterMailTemplate",mail_data:null},"mail_data",JSON.stringify({to:e,subject:"Business Trip Approval Application - Waiting Dept Manager Approval",msgBody:body})),r.next=3,n.$axios.post(n.msgApi,l).then((function(t){200===t.status||alert("error: "+t.status)}));case 3:case"end":return r.stop()}}),r)})))()},getReasonData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post(t.api+"getReasonData");case 3:n=e.sent,t.reasonData=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getReasonByDept:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={from_dept:t.activeUser.dept},t.$axios.post(t.api+"getReasonByDept",n).then((function(e){t.reasonDataByDept=e.data}));case 2:case"end":return e.stop()}}),e)})))()},desListing:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post(t.apiTransport+"desListing");case 3:n=e.sent,t.listDestination_transport=n.data.map((function(t){return h(h({},t),{},{name:JSON.parse(t.name)})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getBtaDestinationData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post(t.api+"getBtaDestinationData");case 3:n=e.sent,t.listDestination_bta=n.data.map((function(t){return h(h({},t),{},{name:JSON.parse(t.name)})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},helpTrans:function(s,t,e){var n=this;if(!this.reason[s])return 1;var o={en:"secret-e",vi:"secret-v",cn:"secret-c"},r="http://gmo021.cansportsvg.com/public/gg-trans/curl.php",l=new FormData;l.append("string",this.reason[s]),l.append("type",o[t]),this.$axios.post(r,l).then((function(e){n.reason[t]||n.$set(n.reason,t,e.data)})).catch(console.log);var c=new FormData;c.append("string",this.reason[s]),c.append("type",o[e]),this.$axios.post(r,c).then((function(t){n.reason[e]||n.$set(n.reason,e,t.data)})).catch(console.log)},removeRowByIndex:function(t,e){confirm(this.$t("Are you sure you want to delete this item?"))&&this.employee_list.splice(e,1)}},computed:{desBtaListingComp:function(){var t=this;return this.listDestination_bta.length?"group"===this.checkLocation?this.listDestination_bta.filter((function(t){return 1===t.is_group})).map((function(e){return{name:{vi:e.name.vi,cn:e.name.cn,en:e.name.en},id:e.id,curLang:e.name[t.$i18n.locale],address:e.address}})):this.listDestination_bta.map((function(e){return{name:{vi:e.name.vi,cn:e.name.cn,en:e.name.en},id:e.id,curLang:e.name[t.$i18n.locale],address:e.address}})):["Waiting for data..."]},desListingComp:function(){var t=this;return this.listDestination_transport.length?this.listDestination_transport.map((function(e){return{name:{vi:e.name.vi,cn:e.name.cn,en:e.name.en},id:e.id,curLang:e.name[t.$i18n.locale],address:e.address}})):["Waiting for data..."]}},watch:{checkLocation:{handler:function(t,e){this.handleDataChanges()},immediate:!0},is_multiple_date:{handler:function(t,e){this.handleDataChanges()},immediate:!0},employee_list:{handler:function(t,e){this.handleDataChanges()},immediate:!0},reasonSelected:{deep:!0,handler:function(t,e){(t.vi||t.en||t.cn)&&this.handleDataChanges()},immediate:!0},destination:{handler:function(t,e){this.handleDataChanges()},immediate:!0},startTime:{deep:!0,handler:function(t,e){(t.date||t.hour||t.min)&&this.handleDataChanges()},immediate:!0},endTime:{deep:!0,handler:function(t,e){(t.date||t.hour||t.min)&&this.handleDataChanges()},immediate:!0},startTime_transport:{deep:!0,handler:function(t,e){(t.date||t.hour||t.min)&&this.handleDataChanges()},immediate:!0},endTime_transport:{deep:!0,handler:function(t,e){(t.date||t.hour||t.min)&&this.handleDataChanges()},immediate:!0},destination_transport:{handler:function(t,e){this.handleDataChanges()},immediate:!0}},created:function(){this.dataAppFlowChanged=this.dataAppFlow},mounted:function(){this.activeUser=this.$session.get("vg-bta"),this.desListing(),this.getBtaDestinationData(),this.getReasonData(),this.getReasonByDept(),this.getListDataLvl1(),this.getEmpnoForeignData()}},_=n(43),f=n(847),D=n(73),x=n.n(D),y=n(693),w=n(156),C=n(945),T=n(241),k=n(138),S=n(682),$=n(946),F=n(566),A=n(554),R=n(683),E=n(215),M=n(684),N=n(663),B=n(571),L=n(639),V=n(575),O=n(640),j=n(947),I=n(602),H=n(944),Y=n(72),P=n(164),U=n(572),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("DestinationCreate",{on:{saved:t.desListing},model:{value:t.desDlg,callback:function(e){t.desDlg=e},expression:"desDlg"}}),t._v(" "),n("auth"),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-card",[n("v-toolbar",{attrs:{dense:"",color:"teal"}},[n("v-btn",{staticClass:"mr-2",attrs:{nuxt:"",small:"",color:"orange",dark:""},on:{click:function(e){return t.closeDialogEdit()}}},[n("v-icon",[t._v("mdi-keyboard-backspace")])],1),t._v(" "),n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-calendar-week-begin")]),t._v(" "),n("v-toolbar-title",{staticClass:"white--text"},[t._v("\n            "+t._s(t.$t("Edit form"))+"\n          ")]),t._v(" "),n("v-spacer"),t._v(" "),n("div",[n("v-btn",{staticClass:"white--text",attrs:{text:""},on:{click:function(e){return t.locale("vi")}}},[t._v("VI")]),t._v(" "),n("v-btn",{staticClass:"white--text",attrs:{text:""},on:{click:function(e){return t.locale("en")}}},[t._v("EN")]),t._v(" "),n("v-btn",{staticClass:"white--text",attrs:{text:""},on:{click:function(e){return t.locale("cn")}}},[t._v("中文")])],1)],1),t._v(" "),n("VfaAppFlow",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"AppFlow",attrs:{appCode:"vg-bta"},on:{sendAppFlow:t.handleAppFlow}}),t._v(" "),n("v-card",{staticClass:"elevation-3"},[n("v-card-text",{staticClass:"pa-0"},[n("v-stepper",{attrs:{flat:""}},[n("v-stepper-header",[t._l(t.dataAppFlowChanged,(function(e,o){return[n("v-stepper-step",{key:o,staticClass:"font-weight-regular",attrs:{color:"red",complete:""}},["level1"===e.level?[t._v("\n                      "+t._s(t.$t("Department Manager"))+" "),n("br")]:"level2"===e.level?[t._v("\n                      "+t._s(t.$t("Division Manager"))+" "),n("br")]:"level3"===e.level?[t._v("\n                      "+t._s(t.$t("Vice Chairman"))+" "),n("br")]:"level4"===e.level?[t._v("\n                      "+t._s(t.$t("Board Chairman"))+" "),n("br")]:"level5"===e.level?[t._v("\n                      "+t._s(t.$t("Human Resources (HR)"))+" "),n("br")]:[t._v("\n                      "+t._s(e.level)+" "),n("br")],t._v("\n                    "+t._s(e.managers.map((function(t){return t.name})).join(", "))+"\n                  ")],2),t._v(" "),o<t.dataAppFlowChanged.length-1?n("v-divider",{key:o+"d"}):t._e()]}))],2)],1)],1)],1),t._v(" "),n("v-row",{staticClass:"pa-3"},[n("v-col",{attrs:{cols:"6"}},[n("v-card",{attrs:{elevation:"15"}},[n("v-card-text",[n("v-form",{ref:"inputForm"},[n("div",{staticClass:"d-flex",staticStyle:{"align-items":"center","justify-content":"space-between"}},[n("v-btn-toggle",{staticStyle:{color:"white"},attrs:{dense:""},model:{value:t.checkLocation,callback:function(e){t.checkLocation=e},expression:"checkLocation"}},[n("v-btn",{staticStyle:{"border-color":"rgb(0 0 0 / 18%) !important"},attrs:{outlined:"domestic"!==t.checkLocation,color:"teal",value:"domestic"}},[n("span",{staticClass:"hidden-sm-and-down",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.$t("Domestic")))])]),t._v(" "),n("v-btn",{staticStyle:{"border-color":"rgb(0 0 0 / 18%) !important"},attrs:{outlined:"foreign"!==t.checkLocation,color:"teal",value:"foreign"}},[n("span",{staticClass:"hidden-sm-and-down",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.$t("Foreign")))])]),t._v(" "),n("v-btn",{staticStyle:{"border-color":"rgb(0 0 0 / 18%) !important"},attrs:{outlined:"group"!==t.checkLocation,color:"teal",value:"group"}},[n("span",{staticClass:"hidden-sm-and-down",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.$t("Group Domestic")))])])],1),t._v(" "),n("div",[n("v-tooltip",{attrs:{top:"",color:"teal"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("div",t._g(t._b({staticClass:"d-flex",staticStyle:{"align-items":"center"}},"div",r,!1),o),[n("v-icon",{staticStyle:{"margin-top":"-5px"}},[t._v("mdi-update")]),t._v(" "),n("h4",{staticStyle:{"margin-right":"5px"}},[t._v("\n                        "+t._s(t.$t("Multiple day trip"))+"\n                      ")]),t._v(" "),n("v-switch",{attrs:{color:"teal"},model:{value:t.is_multiple_date,callback:function(e){t.is_multiple_date=e},expression:"is_multiple_date"}})],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("Turn on if your business trip is more than 1 day.")))])])],1),t._v(" "),n("div",[n("v-tooltip",{attrs:{top:"",color:"teal"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("div",t._g(t._b({staticClass:"d-flex",staticStyle:{"align-items":"center"}},"div",r,!1),o),[n("v-icon",{staticStyle:{"margin-top":"-5px"}},[t._v("mdi-car")]),t._v(" "),n("h4",{staticStyle:{"margin-right":"5px"}},[t._v("\n                        "+t._s(t.$t("Company vehicle"))+"\n                      ")]),t._v(" "),n("v-switch",{attrs:{color:"teal"},model:{value:t.is_company_car,callback:function(e){t.is_company_car=e},expression:"is_company_car"}})],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("Turn it on to register to use a company vehicle on business trips.")))])])],1)],1),t._v(" "),n("div",{staticClass:"mb-3"},[n("div",{staticClass:"d-flex"},[n("v-combobox",{attrs:{dense:"",items:t.reasonDataByDept.map((function(t){return t.reason_vi})),"hide-details":"",rules:[function(t){return!!t||"Item is required"}],label:t.$t("Reason - VI"),outlined:"",clearable:"","append-icon":"mdi-translate"},on:{change:function(e){return t.reasonComboboxChange("reason_vi")},"click:append":function(e){return t.helpTransCLick("vi")}},model:{value:t.reasonSelected.vi,callback:function(e){t.$set(t.reasonSelected,"vi",e)},expression:"reasonSelected.vi"}})],1),t._v(" "),n("div",{staticClass:"d-flex my-3"},[n("v-combobox",{attrs:{dense:"",items:t.reasonDataByDept.map((function(t){return t.reason_en})),"hide-details":"",rules:[function(t){return!!t||"Item is required"}],label:t.$t("Reason - EN"),outlined:"",clearable:"","append-icon":"mdi-translate"},on:{change:function(e){return t.reasonComboboxChange("reason_en")},"click:append":function(e){return t.helpTransCLick("en")}},model:{value:t.reasonSelected.en,callback:function(e){t.$set(t.reasonSelected,"en",e)},expression:"reasonSelected.en"}})],1),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-combobox",{attrs:{dense:"",items:t.reasonDataByDept.map((function(t){return t.reason_cn})),"hide-details":"",rules:[function(t){return!!t||"Item is required"}],label:t.$t("Reason - CN"),outlined:"",clearable:"","append-icon":"mdi-translate"},on:{change:function(e){return t.reasonComboboxChange("reason_cn")},"click:append":function(e){return t.helpTransCLick("cn")}},model:{value:t.reasonSelected.cn,callback:function(e){t.$set(t.reasonSelected,"cn",e)},expression:"reasonSelected.cn"}})],1)]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"15px"}},[n("div",{staticClass:"d-flex"},[n("v-combobox",{attrs:{outlined:"",clearable:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],required:"",color:"indigo","item-disabled":"VG",items:t.desBtaListingComp,"item-text":"curLang",label:t.$t("Destination business trip"),placeholder:"Type-in for searching...",light:"",dense:"",multiple:!1},model:{value:t.destination,callback:function(e){t.destination=e},expression:"destination"}})],1)]),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"",min:t.crrDay,type:"date",outlined:"",dense:"","hide-details":"",label:t.$t("Start Date (MM/DD/YY)"),rules:[function(e){return!!e||t.$t("Item is required")}],required:""},on:{input:t.checkDate},model:{value:t.startTime.date,callback:function(e){t.$set(t.startTime,"date",e)},expression:"startTime.date"}}),t._v(" "),n("v-combobox",{staticClass:"d-inline float-left mr-2",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemHours,label:t.$t("Hour")},on:{input:t.checkTime},model:{value:t.startTime.hour,callback:function(e){t.$set(t.startTime,"hour",e)},expression:"startTime.hour"}}),t._v(" "),n("v-combobox",{staticClass:"d-inline float-right mr-2",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemMins,label:t.$t("Min")},on:{input:t.checkTime},model:{value:t.startTime.min,callback:function(e){t.$set(t.startTime,"min",e)},expression:"startTime.min"}}),t._v(" "),n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"",min:t.startTime.date,type:"date",outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],label:t.$t("End Date (MM/DD/YY)"),required:""},on:{input:t.checkDate},model:{value:t.endTime.date,callback:function(e){t.$set(t.endTime,"date",e)},expression:"endTime.date"}}),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-combobox",{staticClass:"d-inline float-left mr-2",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemHours,label:t.$t("Hour")},on:{input:t.checkTime},model:{value:t.endTime.hour,callback:function(e){t.$set(t.endTime,"hour",e)},expression:"endTime.hour"}}),t._v(" "),n("v-combobox",{staticClass:"d-inline float-right",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemMins,label:t.$t("Min")},on:{input:t.checkTime},model:{value:t.endTime.min,callback:function(e){t.$set(t.endTime,"min",e)},expression:"endTime.min"}})],1)],1)])],1)],1),t._v(" "),t.is_company_car?n("v-card",{staticClass:"mt-8"},[n("v-card-text",[n("div",{staticStyle:{"margin-bottom":"12px"}},[n("div",{staticClass:"d-flex mb-2",staticStyle:{"align-items":"center","justify-content":"space-between"}},[n("h3",[t._v(t._s(t.$t("Vehicle dispatch information")))]),t._v(" "),n("v-text-field",{staticClass:"ml-3 mr-3",staticStyle:{"max-width":"180px"},attrs:{outlined:"",dense:"","hide-details":"",label:t.$t("Cellphone")},model:{value:t.cellPhone,callback:function(e){t.cellPhone=e},expression:"cellPhone"}}),t._v(" "),n("v-text-field",{staticStyle:{"max-width":"135px"},attrs:{outlined:"",dense:"","hide-details":"",label:t.$t("Extension no.")},model:{value:t.extension_no,callback:function(e){t.extension_no=e},expression:"extension_no"}})],1),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-combobox",{attrs:{outlined:"",clearable:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],required:"",color:"indigo","item-disabled":"VG",items:t.desListingComp,"item-text":"curLang",label:t.$t("Destination - transport"),placeholder:"Type-in for searching...",light:"",dense:"",multiple:!1},model:{value:t.destination_transport,callback:function(e){t.destination_transport=e},expression:"destination_transport"}}),t._v(" "),n("v-btn",{attrs:{color:"green",icon:""},on:{click:function(e){t.desDlg=!0}}},[n("v-icon",[t._v("mdi-map-marker-plus")])],1)],1)]),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"",type:"date",outlined:"",dense:"","hide-details":"",label:t.$t("Start Date (MM/DD/YY)"),rules:[function(e){return!!e||t.$t("Item is required")}],required:""},on:{input:t.checkDate_transport},model:{value:t.startTime_transport.date,callback:function(e){t.$set(t.startTime_transport,"date",e)},expression:"startTime_transport.date"}}),t._v(" "),n("v-combobox",{staticClass:"d-inline float-left mr-2",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemHours,label:t.$t("Hour")},on:{input:t.checkTime_transport},model:{value:t.startTime_transport.hour,callback:function(e){t.$set(t.startTime_transport,"hour",e)},expression:"startTime_transport.hour"}}),t._v(" "),n("v-combobox",{staticClass:"d-inline float-right mr-2",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemMins,label:t.$t("Min")},on:{input:t.checkTime},model:{value:t.startTime_transport.min,callback:function(e){t.$set(t.startTime_transport,"min",e)},expression:"startTime_transport.min"}}),t._v(" "),n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"",min:t.startTime_transport.date,type:"date",outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],label:t.$t("End Date (MM/DD/YY)"),required:""},on:{input:t.checkDate_transport},model:{value:t.endTime_transport.date,callback:function(e){t.$set(t.endTime_transport,"date",e)},expression:"endTime_transport.date"}}),t._v(" "),n("div",{staticClass:"d-flex"},[n("v-combobox",{staticClass:"d-inline float-left mr-2",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemHours,label:t.$t("Hour")},on:{input:t.checkTime},model:{value:t.endTime_transport.hour,callback:function(e){t.$set(t.endTime_transport,"hour",e)},expression:"endTime_transport.hour"}}),t._v(" "),n("v-combobox",{staticClass:"d-inline float-right",attrs:{outlined:"",dense:"","hide-details":"",rules:[function(t){return!!t||"Item is required"}],items:t.itemMins,label:t.$t("Min")},on:{input:t.checkTime},model:{value:t.endTime_transport.min,callback:function(e){t.$set(t.endTime_transport,"min",e)},expression:"endTime_transport.min"}})],1)],1),t._v(" "),n("v-textarea",{staticClass:"mt-3",attrs:{"prepend-inner-icon":"mdi-comment",rows:"1",outlined:"",dense:"","hide-details":"",label:t.$t("Extra note for Driver / GA"),required:""},model:{value:t.notes_transport,callback:function(e){t.notes_transport=e},expression:"notes_transport"}})],1)],1):t._e()],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("div",{staticClass:"d-flex mb-4",staticStyle:{"align-items":"center"}},[n("v-autocomplete",{attrs:{label:t.$t("Find and Select People"),items:t.employeeArr,"item-text":"empnoName","return-object":"","hide-details":"",outlined:"",dense:""},on:{"update:search-input":t.debounceSearch},model:{value:t.empNoForChecking,callback:function(e){t.empNoForChecking=e},expression:"empNoForChecking"}}),t._v(" "),n("v-btn",{staticClass:"ml-5",attrs:{color:"teal"},on:{click:function(e){return t.addToTheList()}}},[n("v-icon",{staticClass:"white--text",attrs:{left:""}},[t._v("mdi-plus")]),t._v(" "),n("span",{staticClass:"white--text"},[t._v(t._s(t.$t("Add to business trip")))])],1)],1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{flat:""}},[n("strong",[t._v("\n            "+t._s(t.$t("Employee"))+"\n          ")]),t._v(" "),n("v-simple-table",{staticClass:"pa-2",staticStyle:{border:"1px solid #ccc"},attrs:{height:"465px","fixed-header":"",dense:""}},[n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),n("th",[t._v(t._s(t.$t("Empno")))]),t._v(" "),n("th",[t._v(t._s(t.$t("Name")))]),t._v(" "),n("th",{staticClass:"text-center"},[t._v("\n                  "+t._s(t.$t("Gender"))+"\n                ")]),t._v(" "),n("th",{staticClass:"text-center"},[t._v("\n                  "+t._s(t.$t("Department"))+"\n                ")]),t._v(" "),n("th",{staticClass:"text-center"},[t._v("\n                  "+t._s(t.$t("Deputies"))+"\n                ")]),t._v(" "),n("th",{staticClass:"text-center"},[t._v(t._s(t.$t("Action")))])])]),t._v(" "),t.employee_list.length?n("tbody",t._l(t.employee_list,(function(e,o){return n("tr",{key:o},[n("td",[t._v("\n                  "+t._s(o+1)+"\n                ")]),t._v(" "),n("td",{staticClass:" py-2"},[t._v("\n                  "+t._s(e.empno)+"\n                ")]),t._v(" "),n("td",[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),n("td",{staticClass:"text-center"},[t._v("\n                  "+t._s(e.sex)+"\n                ")]),t._v(" "),n("td",{staticClass:"text-center"},[t._v("\n                  "+t._s(e.dept)+"\n                ")]),t._v(" "),n("td",{staticClass:"text-center"},[n("v-autocomplete",{attrs:{items:e.searchArr,"item-text":"empnoName","return-object":"","hide-details":"",dense:""},on:{"update:search-input":function(n){return t.debounceSearchDeputiesQQ(n,e)}},model:{value:e.deputies,callback:function(n){t.$set(e,"deputies",n)},expression:"item.deputies"}})],1),t._v(" "),n("td",{staticClass:"text-center"},[n("v-btn",{attrs:{"x-small":"",icon:"",color:"error"},on:{click:function(n){return t.removeRowByIndex(e,o)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)])})),0):t._e()])],1)],1)],1),t._v(" "),n("v-col",{staticClass:"pr-0",attrs:{cols:"12"}},[n("div",{staticClass:"d-flex",staticStyle:{"justify-content":"flex-end"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.saveDataRequestAgain()}}},[t._v("\n          "+t._s(t.$t("Re-Submit"))+"\n        ")])],1)])],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialogCreateNewDestinationBta,callback:function(e){t.dialogCreateNewDestinationBta=e},expression:"dialogCreateNewDestinationBta"}},[n("v-card",[n("v-card-title",{staticClass:"text-h6",staticStyle:{display:"flex","justify-content":"space-between"}},[t._v("\n      "+t._s(t.$t("Create New Destination"))+"\n      "),n("v-btn",{attrs:{color:"blue darken-1",outlined:"",text:""},on:{click:function(e){t.dialogCreateNewDestinationBta=!1}}},[t._v("\n        "+t._s(t.$t("close"))+"\n      ")])],1),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{dense:"",label:t.$t("Tên địa chỉ Tiếng Việt"),placeholder:"Thành phố Hồ Chí Minh",outlined:""},model:{value:t.newDestinationBta.vi,callback:function(e){t.$set(t.newDestinationBta,"vi",e)},expression:"newDestinationBta.vi"}}),t._v(" "),n("v-text-field",{attrs:{dense:"",label:t.$t("Tên địa chỉ Tiếng Anh"),placeholder:"HO CHI MINH CITY",outlined:""},model:{value:t.newDestinationBta.en,callback:function(e){t.$set(t.newDestinationBta,"en",e)},expression:"newDestinationBta.en"}}),t._v(" "),n("v-text-field",{attrs:{dense:"",label:t.$t("Tên địa chỉ Tiếng Trung"),placeholder:"HO CHI MINH 城市",outlined:""},model:{value:t.newDestinationBta.cn,callback:function(e){t.$set(t.newDestinationBta,"cn",e)},expression:"newDestinationBta.cn"}}),t._v(" "),n("v-text-field",{attrs:{dense:"",label:t.$t("Địa chỉ "),placeholder:"2 Hải Triều, phường Bến Nghé, quận 1, Thành phố Hồ Chí Minh. Bitexco Financial Tower",outlined:""},model:{value:t.newDestinationBta.address,callback:function(e){t.$set(t.newDestinationBta,"address",e)},expression:"newDestinationBta.address"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.saveNewDestinationBta()}}},[t._v("\n        SAVE\n      ")])],1)],1)],1)],1)}),[],!1,null,null,null);"function"==typeof f.default&&Object(f.default)(component);e.default=component.exports;x()(component,{Auth:n(583).default}),x()(component,{VAutocomplete:y.a,VBtn:w.a,VBtnToggle:C.a,VCard:T.a,VCardActions:k.a,VCardText:k.b,VCardTitle:k.c,VCol:S.a,VCombobox:$.a,VDialog:F.a,VDivider:A.a,VForm:R.a,VIcon:E.a,VRow:M.a,VSimpleTable:N.a,VSpacer:B.a,VStepper:L.a,VStepperHeader:V.a,VStepperStep:O.a,VSwitch:j.a,VTextField:I.a,VTextarea:H.a,VToolbar:Y.a,VToolbarTitle:P.a,VTooltip:U.a})}}]);